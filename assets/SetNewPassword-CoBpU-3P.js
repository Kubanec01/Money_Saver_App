import{r as f,j as e,t as r,L as m,l as g,E as j,m as b,F as P}from"./index-HBWGWtHL.js";import{i as d}from"./inputStyles-B86mgJ2n.js";import{a as N,p as i,e as o,s as y}from"./authLabels-Dya7UeM3.js";import{e as v}from"./auth-ReaH29Pt.js";import{S as u}from"./ShowAndHidePasswordBtn-D8If8PT2.js";import"./iconBase-B_N169y-.js";const S="/Money_Saver_App/assets/correct-mark-img-DZE_Zni4.png",c=s=>s?"password":"text",I=()=>{const s=N(),[x,w]=f.useState(!0),h=async t=>{t.preventDefault(),s.setErrorMessage("");const a=g.currentUser;if(!(!a||!a.email)){if(!s.password||!s.newPassword||!s.confirmPassword){s.setErrorMessage(o.fillAllInformation);return}if(s.newPassword!==s.confirmPassword){s.setErrorMessage(o.passwordsDoNotMatch);return}try{const l=j.credential(a.email,s.password);await b(a,l),await v(s.newPassword),s.setWasDataSent(!0),s.setSuccessMessage(y.passwordWasChanged),s.setErrorMessage("")}catch(l){if(l instanceof P)switch(l.code){case"auth/weak-password":s.setErrorMessage(o.weakPassword);break;default:s.setErrorMessage(o.unknownErrorChangePassword)}}}},n="lg:text-[23px] text-[14px] tracking-wider text-[white]",p="xl:top-0 top-[1px] md:right-5 right-3";return e.jsx("section",{className:"w-full h-[100vh] flex justify-center items-center",children:e.jsxs("div",{className:"md:shadow-customPurple lg:w-[500px] md:w-[400px] w-[280px] lg:border-[2px] md:border-[1px] md:border-neonPurple bg-[#131313a4] rounded-[14px] px-2 py-[50px]",children:[e.jsx("div",{className:"w-full flex justify-center items-center",children:e.jsx("h1",{className:`lg:text-4xl text-2xl text-spaceBlue font-semibold relative
          after:absolute lg:after:w-[160%] after:w-[130%] after:h-[2px] after:bg-spaceBlue lg:after:-bottom-4 after:-bottom-2 after:left-[50%] after:-translate-x-[50%] 
          `,children:r("changePasswordPage.title")})}),e.jsx("div",{className:"mt-10 mx-auto w-[86%]",children:e.jsxs("form",{onSubmit:h,children:[s.wasDataSent?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"h-[300px] flex flex-col justify-center items-center",children:[e.jsx("img",{className:"object-cover aspect-square lg:w-[110px] w-[80px] opacity-95",src:S,alt:"correct-mark"}),e.jsx("h1",{className:"text-customWhite300 lg:text-3xl text-xl md:w-[80%] w-[90%] text-center font-semibold mt-2",children:s.successMessage})]})}):e.jsxs("div",{className:"flex flex-col justify-center items-start gap-7 py-6",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"current-password",className:n,children:r("auth.labels.currPassword")}),e.jsxs("span",{className:"w-full relative",children:[e.jsx("input",{id:"current-password",placeholder:i.enterCurrentPassword,onChange:t=>s.setPassword(t.target.value),className:d.darkInputStyle,type:c(x)}),e.jsx(u,{isPasswordHidden:x,onClick:()=>w(t=>!t),class:p})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"new-password",className:n,children:r("auth.labels.newPassword")}),e.jsxs("span",{className:"w-full relative",children:[e.jsx("input",{id:"new-password",placeholder:i.setNewPassword,onChange:t=>s.setNewPassword(t.target.value),className:d.darkInputStyle,type:c(s.isPasswordHidden)}),e.jsx(u,{isPasswordHidden:s.isPasswordHidden,onClick:()=>s.setIsPasswordHidden(t=>!t),class:p})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"confirm-password",className:n,children:r("auth.labels.confirmPassword")}),e.jsx("input",{id:"confirm-password",placeholder:i.confirmYourCurrPassword,onChange:t=>s.setConfirmPassword(t.target.value),className:d.darkInputStyle,type:c(s.isPasswordHidden)})]})]}),e.jsx("section",{className:"w-full md:mt-[10px]",children:e.jsx("p",{className:"text-errorColor md:text-2xl text-center",children:s.errorMessage})}),s.wasDataSent?e.jsx("div",{className:"w-full mt-6",children:e.jsx(m,{to:"/home",className:"text-[#ffffffeb] flex justify-center items-center md:w-full w-[90%] mx-auto lg:h-[56px] md:h-[46px] h-[40px] bg-purpleButton500 hover:bg-purpleButton300 rounded-[10px] lg:text-2xl md:text-xl text-lg",children:r("auth.buttons.goBack")})}):e.jsxs("div",{className:"w-full mx-auto md:mt-12 mt-8 flex md:justify-end justify-center items-center gap-3 ",children:[e.jsx(m,{className:"lg:h-[46px] h-[36px] pt-1 lg:w-[120px] w-[100px] rounded-[5px] text-[white] bg-[#434343] hover:bg-[#545454] lg:text-[20px] font-light flex justify-center items-center text-center",to:"/home",children:r("auth.buttons.goBack")}),e.jsx("button",{type:"submit",className:"lg:h-[46px] h-[36px] lg:py-[10px] py-[8px] lg:w-[120px] w-[100px] rounded-[5px] text-[white] bg-purpleButton500 hover:bg-purpleButton300 lg:text-[20px] font-light",children:r("auth.buttons.sendIt")})]})]})})]})})};export{I as default};
